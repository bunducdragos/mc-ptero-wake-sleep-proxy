services:
  minecraft-proxy:
    build: .
    container_name: minecraft-wake-proxy
    restart: unless-stopped
    ports:
      - "${LISTEN_PORT:-25565}:25565"
    environment:
      - LISTEN_HOST=0.0.0.0
      - LISTEN_PORT=25565
      - BACKEND_HOST=${BACKEND_HOST}
      - BACKEND_PORT=${BACKEND_PORT}
      - PTERO_PANEL=${PTERO_PANEL}
      - PTERO_SERVER_ID=${PTERO_SERVER_ID}
      - PTERO_API_KEY=${PTERO_API_KEY}
      - START_COOLDOWN_MS=${START_COOLDOWN_MS:-15000}
      - IDLE_SHUTDOWN_MINUTES=${IDLE_SHUTDOWN_MINUTES:-20}
